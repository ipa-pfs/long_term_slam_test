<?xml version="1.0"?>
<launch>
    <!-- Add all launch files that you want to run additionally to your robot bringup like moveit, etc... -->
    
    <arg name="int_res" default="0.5"/>
    <arg name="standard_deviation_range" default="0.02"/>
    <arg name="static_map" default="true"/>
    <arg name="ndt_mapping" default="false"/>
    <arg name="ndt_matching" default="false"/>
    <arg name="observation_model" default="standard"/>
    <arg name="eval_file_name" default="test"/>
    
   <node name="bagfile" pkg="rosbag" type="play" args="--clock /home/srd-ps/bags/002noise_filtered.bag" output="screen"/>  
   <!--node pkg="rviz" type="rviz" name="$(anon rviz)"/-->
   
    <include file="$(find ipa_long_term_slam)/launch/long_term_slam.launch">
        <arg name="init_from_backup" value="false"/>
        <arg name="init_from_static_map" value="$(arg static_map)"/>
        <!--arg name="robot_env" value="ipa-production-plant" /-->
        <arg name="resolution" value="$(arg int_res)" />
        <arg name="standard_deviation_range" value="$(arg standard_deviation_range)" />
        <arg name="ndt_mapping" value="$(arg ndt_mapping)" />
        <arg name="ndt_matching" value="$(arg ndt_mapping)" />
        <arg name="observation_model" value="$(arg observation_model)"/>
     
    </include> 
    <include file="$(find hmm_measurements)/launch/measure.launch">
    	<arg name="name" value="$(arg eval_file_name).txt"/>
    	<arg name="mean_name" value="$(arg eval_file_name)_mean.txt"/>
    </include>
    <node pkg="hmm_measurements" name="cpu_measure_node" type="measure_cpu.py" args="-p long_term_slam -f $(arg eval_file_name)_cpu "/>

</launch>
